getgenv().ZekromHubX_Setting = {
    ["Team"] = "Marines", --Marines/Pirate
    ["Hop Server"] = true, -- false/true
    ["When Get God's Chalice To Stop Farm"] = true, -- false/true
    ["When Get Fist of Darkness To Stop Farm"] = true, -- false/true
    ["White Screen"] = false, -- false/true
}

if getgenv().ZekromHubX_Setting["White Screen"] then
    game:GetService("RunService"):Set3dRenderingEnabled( not getgenv().ZekromHubX_Setting["White Screen"])
end

repeat wait(0) until game:IsLoaded()
	if game:GetService("Players").LocalPlayer.PlayerGui.Main:FindFirstChild("ChooseTeam")  then
		repeat wait()
			if game:GetService("Players").LocalPlayer.PlayerGui:WaitForChild("Main").ChooseTeam.Visible == true then
				if getgenv().ZekromHubX_Setting["Team"] == "Pirate" then
					for i, v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Main.ChooseTeam.Container.Pirates.Frame.TextButton.Activated)) do                                                                                                
						v.Function()
					end
				elseif getgenv().ZekromHubX_Setting["Team"] == "Marine" then
					for i, v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Main.ChooseTeam.Container.Marines.Frame.TextButton.Activated)) do                                                                                                
						v.Function()
					end
				else
					for i, v in pairs(getconnections(game:GetService("Players").LocalPlayer.PlayerGui.Main.ChooseTeam.Container.Pirates.Frame.TextButton.Activated)) do                                                                                                
						v.Function()
					end
				end
			end
		until game.Players.LocalPlayer.Team ~= nil and game:IsLoaded()
	end

local ZekromHubXFarmChest = Instance.new("ScreenGui")
local FrameChest = Instance.new("Frame")
local UICorner = Instance.new("UICorner")
local shadowHolder = Instance.new("Frame")
local umbraShadow = Instance.new("ImageLabel")
local penumbraShadow = Instance.new("ImageLabel")
local ambientShadow = Instance.new("ImageLabel")
local ImageLogo = Instance.new("ImageLabel")
local TextZekromHubX = Instance.new("TextLabel")
local TextChestFarm = Instance.new("TextLabel")
local FrameText = Instance.new("Frame")
local TextTotalBeli = Instance.new("TextLabel")
local UICorner_2 = Instance.new("UICorner")
local BeliGreenText = Instance.new("TextLabel")
local TextEarned = Instance.new("TextLabel")
local UICorner_3 = Instance.new("UICorner")
local TextTime = Instance.new("TextLabel")
local UICorner_4 = Instance.new("UICorner")
local Line = Instance.new("Frame")
local StopButton = Instance.new("TextButton")
local UICorner_5 = Instance.new("UICorner")
local JoinDiscord = Instance.new("TextButton")
local UICornerDi = Instance.new("UICorner")
local Notif = loadstring(Game:HttpGet"https://pastebin.com/raw/zGMbb66t")()
AllowRunService = true
ChestFarm = true 

local antiAFK = true
game.Players.LocalPlayer.Idled:connect(function()
while wait(3) do
	if antiAFK then
		game.VirtualUser:Button2Down(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
		wait(1)
		game.VirtualUser:Button2Up(Vector2.new(0, 0), workspace.CurrentCamera.CFrame)
		end
	end
end)

if getgenv().ZekromHubX_Setting["Hop Server"] then
	local PlaceID = game.PlaceId
	local AllIDs = {}
	local foundAnything = ""
	local actualHour = os.date("!*t").hour
	local Deleted = false
	function TPReturner()
		local Site;
		if foundAnything == "" then
			Site = game.HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Asc&limit=100'))
		else
			Site = game.HttpService:JSONDecode(game:HttpGet('https://games.roblox.com/v1/games/' .. PlaceID .. '/servers/Public?sortOrder=Asc&limit=100&cursor=' .. foundAnything))
		end
		local ID = ""
		if Site.nextPageCursor and Site.nextPageCursor ~= "null" and Site.nextPageCursor ~= nil then
			foundAnything = Site.nextPageCursor
		end
		local num = 0;
		for i,v in pairs(Site.data) do
			local Possible = true
			ID = tostring(v.id)
			if tonumber(v.maxPlayers) > tonumber(v.playing) then
				for _,Existing in pairs(AllIDs) do
					if num ~= 0 then
						if ID == tostring(Existing) then
							Possible = false
						end
					else
						if tonumber(actualHour) ~= tonumber(Existing) then
							local delFile = pcall(function()
								AllIDs = {}
								table.insert(AllIDs, actualHour)
							end)
						end
					end
					num = num + 1
				end
				if Possible == true then
					table.insert(AllIDs, ID)
					wait()
					pcall(function()
						wait()
						game:GetService("TeleportService"):TeleportToPlaceInstance(PlaceID, ID, game.Players.LocalPlayer)
					end)
					wait(4)
				end
			end
		end
    end

	function Teleport() 
		while wait() do
			pcall(function()
				TPReturner()
				if foundAnything ~= "" then
					TPReturner()
				end
			end)
		end
	end
end

local veryImportantWaitTime = 0.5
task.spawn(function()
    while task.wait(veryImportantWaitTime) do
        pcall(function()
            for i,v in pairs(game.CoreGui:GetDescendants()) do
                pcall(function()
                    if string.find(v.Name,"ErrorMessage") then
                        if string.find(v.Text,"Security kick") then
                            veryImportantWaitTime = 1e9
                            Teleport()
                        end
                    end
                end)
            end
        end)
    end
end)


ZekromHubXFarmChest.Name = "ZekromHubXFarmChest"
ZekromHubXFarmChest.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ZekromHubXFarmChest.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ZekromHubXFarmChest.Parent = game.CoreGui

FrameChest.Name = "FrameChest"
FrameChest.Parent = ZekromHubXFarmChest
FrameChest.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
FrameChest.BorderColor3 = Color3.fromRGB(0, 0, 0)
FrameChest.BorderSizePixel = 0
FrameChest.Draggable = true
FrameChest.Active = true
FrameChest.Selectable = true
FrameChest.Position = UDim2.new(0.294637561, 0, 0.215077654, 0)
FrameChest.Size = UDim2.new(0, 243, 0, 223)

UICorner.Parent = FrameChest

shadowHolder.Name = "shadowHolder"
shadowHolder.Parent = FrameChest
shadowHolder.BackgroundTransparency = 1.000
shadowHolder.Size = UDim2.new(1, 0, 1, 0)
shadowHolder.ZIndex = 0

umbraShadow.Name = "umbraShadow"
umbraShadow.Parent = shadowHolder
umbraShadow.AnchorPoint = Vector2.new(0.5, 0.5)
umbraShadow.BackgroundTransparency = 1.000
umbraShadow.Position = UDim2.new(0.5, 0, 0.5, 2)
umbraShadow.Size = UDim2.new(1, 4, 1, 4)
umbraShadow.ZIndex = 0
umbraShadow.Image = "rbxassetid://1316045217"
umbraShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
umbraShadow.ImageTransparency = 0.860
umbraShadow.ScaleType = Enum.ScaleType.Slice
umbraShadow.SliceCenter = Rect.new(10, 10, 118, 118)

penumbraShadow.Name = "penumbraShadow"
penumbraShadow.Parent = shadowHolder
penumbraShadow.AnchorPoint = Vector2.new(0.5, 0.5)
penumbraShadow.BackgroundTransparency = 1.000
penumbraShadow.Position = UDim2.new(0.5, 0, 0.5, 2)
penumbraShadow.Size = UDim2.new(1, 4, 1, 4)
penumbraShadow.ZIndex = 0
penumbraShadow.Image = "rbxassetid://1316045217"
penumbraShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
penumbraShadow.ImageTransparency = 0.880
penumbraShadow.ScaleType = Enum.ScaleType.Slice
penumbraShadow.SliceCenter = Rect.new(10, 10, 118, 118)

ambientShadow.Name = "ambientShadow"
ambientShadow.Parent = shadowHolder
ambientShadow.AnchorPoint = Vector2.new(0.5, 0.5)
ambientShadow.BackgroundTransparency = 1.000
ambientShadow.Position = UDim2.new(0.5, 0, 0.480952382, 2)
ambientShadow.Size = UDim2.new(1, 4, 1, 4)
ambientShadow.ZIndex = 0
ambientShadow.Image = "rbxassetid://1316045217"
ambientShadow.ImageColor3 = Color3.fromRGB(0, 0, 0)
ambientShadow.ImageTransparency = 0.880
ambientShadow.ScaleType = Enum.ScaleType.Slice
ambientShadow.SliceCenter = Rect.new(10, 10, 118, 118)

ImageLogo.Name = "ImageLogo"
ImageLogo.Parent = FrameChest
ImageLogo.Active = true
ImageLogo.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
ImageLogo.BackgroundTransparency = 1.000
ImageLogo.BorderColor3 = Color3.fromRGB(0, 0, 0)
ImageLogo.BorderSizePixel = 0
ImageLogo.Size = UDim2.new(0, 63, 0, 60)
ImageLogo.Image = "rbxassetid://15756845500"

TextZekromHubX.Name = "TextZekromHubX"
TextZekromHubX.Parent = FrameChest
TextZekromHubX.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextZekromHubX.BackgroundTransparency = 1.000
TextZekromHubX.BorderColor3 = Color3.fromRGB(0, 0, 0)
TextZekromHubX.BorderSizePixel = 0
TextZekromHubX.Position = UDim2.new(0.288065851, 0, 0.0238095243, 0)
TextZekromHubX.Size = UDim2.new(0, 163, 0, 25)
TextZekromHubX.Font = Enum.Font.SourceSansBold
TextZekromHubX.Text = "Zekrom Hub X"
TextZekromHubX.TextColor3 = Color3.fromRGB(255, 255, 255)
TextZekromHubX.TextSize = 28.000

TextChestFarm.Name = "TextChestFarm"
TextChestFarm.Parent = FrameChest
TextChestFarm.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextChestFarm.BackgroundTransparency = 1.000
TextChestFarm.BorderColor3 = Color3.fromRGB(0, 0, 0)
TextChestFarm.BorderSizePixel = 0
TextChestFarm.Position = UDim2.new(0.283950746, 0, 0.152380958, 0)
TextChestFarm.Size = UDim2.new(0, 163, 0, 19)
TextChestFarm.Font = Enum.Font.SourceSansBold
TextChestFarm.Text = "Chest Farm"
TextChestFarm.TextColor3 = Color3.fromRGB(255, 255, 255)
TextChestFarm.TextSize = 27.000

FrameText.Name = "FrameText"
FrameText.Parent = FrameChest
FrameText.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
FrameText.BackgroundTransparency = 0.900
FrameText.BorderColor3 = Color3.fromRGB(0, 0, 0)
FrameText.BorderSizePixel = 0
FrameText.Position = UDim2.new(0.0493830927, 0, 0.331347406, 0)
FrameText.Size = UDim2.new(0, 219, 0, 107)

TextTotalBeli.Name = "TextTotalBeli"
TextTotalBeli.Parent = FrameText
TextTotalBeli.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextTotalBeli.BackgroundTransparency = 1.000
TextTotalBeli.BorderColor3 = Color3.fromRGB(0, 0, 0)
TextTotalBeli.BorderSizePixel = 0
TextTotalBeli.Position = UDim2.new(0.024747666, 0, -0.00595264416, 0)
TextTotalBeli.Size = UDim2.new(0, 208, 0, 32)
TextTotalBeli.Font = Enum.Font.SourceSansBold
TextTotalBeli.Text = "Total Beli: "
TextTotalBeli.TextColor3 = Color3.fromRGB(255, 255, 255)
TextTotalBeli.TextSize = 21.000
TextTotalBeli.TextXAlignment = Enum.TextXAlignment.Left

UICorner_2.Parent = TextTotalBeli

BeliGreenText.Name = "Beli GreenText"
BeliGreenText.Parent = TextTotalBeli
BeliGreenText.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
BeliGreenText.BackgroundTransparency = 1.000
BeliGreenText.BorderColor3 = Color3.fromRGB(0, 0, 0)
BeliGreenText.BorderSizePixel = 0
BeliGreenText.Position = UDim2.new(0.399038464, 0, 0.0625, 0)
BeliGreenText.Size = UDim2.new(0, 102, 0, 25)
BeliGreenText.Font = Enum.Font.SourceSansBold
BeliGreenText.Text = "$"
BeliGreenText.TextColor3 = Color3.fromRGB(0, 255, 0)
BeliGreenText.TextSize = 26.000
BeliGreenText.TextXAlignment = Enum.TextXAlignment.Left

function UpdateBeli()
    BeliGreenText.Text = "$"..game:GetService("Players")["LocalPlayer"].Data.Beli.Value
end

spawn(function()
    while true do wait(.1)
        UpdateBeli()
    end
end)

TextEarned.Name = "TextEarned"
TextEarned.Parent = FrameText
TextEarned.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextEarned.BackgroundTransparency = 1.000
TextEarned.BorderColor3 = Color3.fromRGB(0, 0, 0)
TextEarned.BorderSizePixel = 0
TextEarned.Position = UDim2.new(0.0250000283, 0, 0.328775525, 0)
TextEarned.Size = UDim2.new(0, 208, 0, 32)
TextEarned.Font = Enum.Font.SourceSansBold
TextEarned.Text = "Earned: "
TextEarned.TextColor3 = Color3.fromRGB(255, 255, 255)
TextEarned.TextSize = 21.000
TextEarned.TextXAlignment = Enum.TextXAlignment.Left

local BeliOld = game:GetService("Players")["LocalPlayer"].Data.Beli.Value
local Earned = tostring(game:GetService("Players")["LocalPlayer"].Data.Beli.Value - BeliOld)
local sub = string.sub
local len = string.len

function UpdateEarned()
    if len(Earned) == 4 then
        Earned1 = sub(Earned, 1, 1).."."..sub(Earned, 2, 3).."K"
    elseif len(Earned) == 5 then
        Earned1 = sub(Earned, 1, 2).."."..sub(Earned, 3, 4).."K"
    elseif len(Earned) == 6 then
        Earned1 = sub(Earned, 1, 3).."."..sub(Earned, 4, 5).."K"
    elseif len(Earned) == 7 then
        Earned1 = sub(Earned, 1, 1).."."..sub(Earned, 2, 3).."M"
    elseif len(Earned) == 8 then
        Earned1 = sub(Earned, 1, 2).."."..sub(Earned, 3, 4).."M"
    elseif len(Earned) <= 3 then
        Earned1 = Earned
    end
    TextEarned.Text = "Earned: "..tonumber(Earned1)
end


spawn(function()
    while true do wait(.1)
        UpdateEarned()
    end
end)

UICorner_3.Parent = TextEarned

TextTime.Name = "TextTime"
TextTime.Parent = FrameText
TextTime.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextTime.BackgroundTransparency = 1.000
TextTime.BorderColor3 = Color3.fromRGB(0, 0, 0)
TextTime.BorderSizePixel = 0
TextTime.Position = UDim2.new(0.0250000283, 0, 0.65530616, 0)
TextTime.Size = UDim2.new(0, 208, 0, 32)
TextTime.Font = Enum.Font.SourceSansBold
TextTime.Text = "Time Elapsed: "
TextTime.TextColor3 = Color3.fromRGB(255, 255, 255)
TextTime.TextSize = 21.000
TextTime.TextXAlignment = Enum.TextXAlignment.Left

local startTime = os.time()

function UpdateTime()
    local elapsedTime = os.time() - startTime
    local minutes = math.floor(elapsedTime / 60)
    local seconds = elapsedTime % 60
    local timeText = string.format("%02d:%02d", minutes, seconds)
    TextTime.Text = "Time Elapsed: "..timeText
end

spawn(function()
    while true do wait(.1)
        UpdateTime()
    end
end)

UICorner_4.Parent = TextTime

Line.Name = "Line"
Line.Parent = FrameChest
Line.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Line.BorderColor3 = Color3.fromRGB(0, 0, 0)
Line.BorderSizePixel = 0
Line.Position = UDim2.new(0, 0, 0.280952394, 0)
Line.Size = UDim2.new(0, 243, 0, 2)

StopButton.Name = "StopButton"
StopButton.Parent = FrameChest
StopButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
StopButton.BackgroundTransparency = 0.900
StopButton.BorderColor3 = Color3.fromRGB(0, 0, 0)
StopButton.BorderSizePixel = 0
StopButton.Position = UDim2.new(0.0493830927, 0, 0.853491426, 0)
StopButton.Size = UDim2.new(0, 103, 0, 25)
StopButton.Font = Enum.Font.SourceSansBold
StopButton.Text = "Stop"
StopButton.TextColor3 = Color3.fromRGB(255, 255, 255)
StopButton.TextSize = 25.000
StopButton.MouseButton1Down:connect(function(value)
    if value then
        AllowRunService = false
        ChestFarm = false
    end
end)

if getgenv().ZekromHubX_Setting["When Get God's Chalice To Stop Farm"] then
if game:GetService("Players").LocalPlayer.Backpack:FindFirstChild("God's Chalice") then
    AllowRunService = false
    ChestFarm = false
    getgenv().ZekromHubX_Setting["Hop Server"] = false
    end
end

if getgenv().ZekromHubX_Setting["When Get Fist of Darkness To Stop Farm"] then
if game:GetService("Players").LocalPlayer.Backpack:FindFirstChild("Fist of Darkness") then
    AllowRunService = false
    ChestFarm = false
    getgenv().ZekromHubX_Setting["Hop Server"] = false
    end
end

task.spawn(function()
    while true and task.wait(.5) do
        if AllowRunService == true then
            local ohString1 = "SetTeam"
            local ohString2 = "Marines"

            game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer(ohString1, ohString2)
        end
    end
end)

task.spawn(function()
    while task.wait() do
        if AllowRunService == true then
            if ChestFarm == false then
                local hasChar = game.Players.LocalPlayer:FindFirstChild("Character")
                if not game.Players.LocalPlayer.Character then
        
                else
                    local hasCrewTag = game.Players.LocalPlayer.Character:FindFirstChild("CrewBBG",true)
                    if hasCrewTag then hasCrewTag:Destroy() end
                    local hasHumanoid = game.Players.LocalPlayer.Character:FindFirstChild("Humanoid")
                    if hasHumanoid then
                        local Chest = game.Workspace:FindFirstChild("Chest4") or game.Workspace:FindFirstChild("Chest3") or game.Workspace:FindFirstChild("Chest2") or game.Workspace:FindFirstChild("Chest1") or game.Workspace:FindFirstChild("Chest")
                        
                        if Chest then
                            game.Players.LocalPlayer.Character:PivotTo(Chest:GetPivot())
                            firesignal(Chest.Touched,game.Players.LocalPlayer.Character.HumanoidRootPart)
                        else
                            Teleport()
                            break
                        end
                    end 
                end
            elseif ChestFarm == true then
                local hasChar = game.Players.LocalPlayer:FindFirstChild("Character")
                if not game.Players.LocalPlayer.Character then
                else
                    local hasCrewTag = game.Players.LocalPlayer.Character:FindFirstChild("CrewBBG",true)
                    if hasCrewTag then hasCrewTag:Destroy() end
                    local hasHumanoid = game.Players.LocalPlayer.Character:FindFirstChild("Humanoid")
                    if hasHumanoid then
                        local Chest = game.Workspace:FindFirstChild("Chest4") or game.Workspace:FindFirstChild("Chest3") or game.Workspace:FindFirstChild("Chest2")
                        if Chest then
                            game.Players.LocalPlayer.Character:PivotTo(Chest:GetPivot())
                            firesignal(Chest.Touched,game.Players.LocalPlayer.Character.HumanoidRootPart)
                        else
                            Teleport()
                            break
                        end
                    end 
                end
            end
        end
    end
end)

task.spawn(function()
    while task.wait() do
        task.spawn(function()
            if godsChalicSniper == true then
                if stuff then
                    AllowRunService = false
                end
            end
        end)
    end
end)

spawn(function()
    while wait(15) do
    if AllowRunService then
        game:GetService("Players").LocalPlayer.Character.Humanoid.Health = 0
        end
    end
end)

UICorner_5.Parent = StopButton

JoinDiscord.Name = "Join Discord"
JoinDiscord.Parent = FrameChest
JoinDiscord.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
JoinDiscord.BackgroundTransparency = 0.900
JoinDiscord.BorderColor3 = Color3.fromRGB(0, 0, 0)
JoinDiscord.BorderSizePixel = 0
JoinDiscord.Position = UDim2.new(0.50205797, 0, 0.853491426, 0)
JoinDiscord.Size = UDim2.new(0, 103, 0, 25)
JoinDiscord.Font = Enum.Font.SourceSansBold
JoinDiscord.Text = "Join Discord"
JoinDiscord.TextColor3 = Color3.fromRGB(255, 255, 255)
JoinDiscord.TextSize = 19.000
JoinDiscord.MouseButton1Down:connect(function()
setclipboard("https://discord.gg/NdY3TXK6Ex")
Notif.New("Copyed Join Discord Link", 3)
end)

UICornerDi.Name = "UICornerDi"
UICornerDi.Parent = JoinDiscord
