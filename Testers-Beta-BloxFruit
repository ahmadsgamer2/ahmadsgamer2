local ScreenGui = Instance.new("ScreenGui")
local Frame = Instance.new("Frame")
local TextButton = Instance.new("TextButton")
local available = Instance.new("TextLabel")
local TextLabel = Instance.new("TextLabel")
local radius = Instance.new("TextLabel")

local player = game.Players.LocalPlayer
local mouse = player:GetMouse()
local moving = false

local colours = {
	["yes"] = Color3.fromRGB(69, 220, 79);
	["no"] = Color3.fromRGB(238, 64, 67);
}

local fruit = nil

ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
ScreenGui.ResetOnSpawn = false

Frame.Parent = ScreenGui
Frame.BackgroundColor3 = Color3.fromRGB(22, 64, 91)
Frame.BackgroundTransparency = 0.500
Frame.BorderColor3 = Color3.fromRGB(16, 26, 33)
Frame.Position = UDim2.new(0.246025696, 0, 0.709984183, 0)
Frame.Size = UDim2.new(0.133459494, 0, 0.204912841, 0)

TextButton.Parent = Frame
TextButton.BackgroundColor3 = Color3.fromRGB(22, 64, 91)
TextButton.BackgroundTransparency = 0.500
TextButton.BorderColor3 = Color3.fromRGB(16, 26, 33)
TextButton.Size = UDim2.new(1, 0, 0.149265379, 0)
TextButton.Font = Enum.Font.GothamBold
TextButton.Text = "blox fruit finder"
TextButton.TextColor3 = Color3.fromRGB(255, 255, 255)
TextButton.TextSize = 14.000

available.Name = "available"
available.Parent = Frame
available.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
available.BackgroundTransparency = 1.000
available.Position = UDim2.new(0, 0, 0.827532589, 0)
available.Size = UDim2.new(1, 0, 0.126063704, 0)
available.Font = Enum.Font.GothamBold
available.Text = "fruit"
available.TextColor3 = Color3.fromRGB(255, 67, 70)
available.TextScaled = true
available.TextSize = 14.000
available.TextWrapped = true

TextLabel.Parent = Frame
TextLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.BackgroundTransparency = 1.000
TextLabel.Position = UDim2.new(0, 0, 0.232018262, 0)
TextLabel.Size = UDim2.new(1, 0, 0.126063704, 0)
TextLabel.Font = Enum.Font.GothamBold
TextLabel.Text = "name not available"
TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TextLabel.TextScaled = true
TextLabel.TextSize = 14.000
TextLabel.TextWrapped = true

radius.Name = "radius"
radius.Parent = Frame
radius.AnchorPoint = Vector2.new(0.5, 0)
radius.BackgroundColor3 = Color3.fromRGB(22, 64, 91)
radius.BackgroundTransparency = 0.500
radius.BorderColor3 = Color3.fromRGB(16, 26, 33)
radius.Position = UDim2.new(0.5, 0, 0.432999998, 0)
radius.Size = UDim2.new(0.51219511, 0, 0.187935293, 0)
radius.Font = Enum.Font.GothamBold
radius.Text = "000"
radius.TextColor3 = Color3.fromRGB(255, 255, 255)
radius.TextScaled = true
radius.TextSize = 14.000
radius.TextWrapped = true

function avail(av)
	if av == true then
		available.Text = "Fruit available"
		available.TextColor3 = colours.yes
	else
		available.Text = "Fruit unavailable"
		available.TextColor3 = colours.no
	end
end

if game.Workspace:FindFirstChild("Fruit ") then
	print("fruit")
	fruit = game.Workspace["Fruit "]
end

TextButton.MouseButton1Down:Connect(function()
	moving = true
end)

TextButton.MouseButton1Up:Connect(function()
	moving = false
end)

mouse.Button1Up:Connect(function()
	moving = false
end)

mouse.Move:Connect(function()
	if moving == true then
		Frame.Position = UDim2.fromOffset(mouse.X - Frame.Size.X.Scale*600, mouse.Y - 5)
	end
end)

game.Workspace.ChildAdded:Connect(function(child)
	if child.Name == "Fruit " then
		print("fruit")
		fruit = child
	end
end)

game.Workspace.ChildRemoved:Connect(function(child)
	if child.Name == "Fruit " then
		print("fruit gone")
		fruit = nil
	end
end)

while task.wait(0.1) do
	if fruit ~= nil then
		avail(true)
		local hrp = player.Character.HumanoidRootPart
		local fruitpos = fruit:WaitForChild("Handle").Position
		radius.Text = math.round((hrp.Position - fruitpos).magnitude)
		local strig = nil
		for i,v in pairs(fruit:GetChildren()) do
			if string.match(v.Name, "Meshes") then
				strig = string.split(v.Name, "/")[2]
				TextLabel.Text = string.split(strig, "_")[1].." fruit"
			end
		end
	else
		avail(false)
		radius.Text = "000"
		TextLabel.Text = "name not available"
	end
end
